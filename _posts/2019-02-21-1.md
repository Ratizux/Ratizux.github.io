---
layout: post
title: '教程 | Docker 容器入门'
---
如果你是位 Linux 初学者，实践操作在所难免————比如安装 LNMP 之类的。但拿自己的工作环境做实验代价太大，使用 VPS 又会产生较大的开销。虚拟机是种不错的方案，但容器更轻量。

# 使用 Docker 容器的优点

- 与主系统共用一个内核，相对 VM 而言更快速，不会像 VM 那样明显的拖慢你的系统。
- 大量镜像可供下载，你不再需要把时间浪费在安装系统上。(当然，你不能在 Docker 上练习操作系统的安装，因为镜像是开箱即用的。除非你做得到！)
- 便于备份。失败了那就恢复重来。

# 安装 openSUSE 容器

确保 Docker 已安装并在运行(如果你使用 systemd 作为 init 系统(大部分发行版都是这样)，执行`sudo systemctl start docker`启动 Docker 。)

`sudo docker pull opensuse`，下载 openSUSE 容器镜像。下载完成后执行`sudo docker run -dit --name container opensuse /bin/bash`创建并启动 openSUSE 容器。

通俗的讲，`-dit`让容器后台运行，`--name`参数决定容器的命名。`opensuse`是镜像的名字，`/bin/bash`命令让 Bash 运行。

`sudo docker attach container`来连接容器的虚拟终端。`zypper ref`刷新软件源，`zypper in 包名`来安装软件包，`zypper --help`查看帮助。

# 安装软件

Docker 镜像一般较精简，所以你要自行安装你需要的软件包。这里是一些建议:

- `command-not-found`帮助你找到能提供指令的软件包。`cnf 命令`来使用，例如`cnf ssh`。
- `vim`Vim 是一款优秀的终端下的编辑器。当然建议先看看 Vim 的教程，不然你可能连怎么退出 Vim 都不知道！
- `w3m`命令行下的浏览器，有时候还挺有用的。虽然看上去很蠢！
- `screenfetch`快速了解你的容器参数。

# 基本管理

`exit`来退出虚拟终端。因为终端的进程号为1，关闭终端后容器会自动关闭。

`sudo docker ps`列出正在运行的容器

`sudo docker ps -a`列出所有容器

`sudo docker start 容器名`启动容器

`sudo docker stop 容器名`停止容器

`sudo docker attach 容器名`连接到容器的虚拟终端

`sudo docker rm 容器名`删除容器

如果 openSUSE 有问题，你可以参考 [openSUSE Wiki](https://zh.opensuse.org) 或者通过[链接](https://t.me/opensuse_cn)加入 openSUSE 的官方群组。如果你有能力，参考 [ArchWiki](https://wiki.archlinux.org) 也可以。
