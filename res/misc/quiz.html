<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" >
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
label
{
    font-size-adjust:1;
}
button
{
    padding:0.5cm;
    font-size-adjust:1;
}
</style>
</head>
<body>
<label id="title"></label>
<div id="quiz"></div>
<script>
"use strict"
let rawdata="3\n2\n吾尝终日而思矣，不如须__之所学也\n舆\n臾\n庾\n3\n1\n假__马者，非利足也\n與\n臾\n庾\n3\n1\n积善成德，______\n而神明自得\n则神明自得\n神明自得\n2\n2\n______，则其负大舟也无力\n且水之积也不厚\n且夫水之积也不厚\n2\n1\n适莽苍者，三餐而__\n反\n返\n6\n4\n众人匹之，不亦悲乎！______\n汤之问棘也是矣\n汤之问棘也亦是已\n汤之问棘是矣\n汤之问棘也是已\n汤之问棘也亦是矣\n以上都不对\n2\n1\n然后图南，______\n且适南冥也\n且适于南冥也\n2\n1\n______，此亦飞之至也。\n翱翔蓬蒿之间\n翱翔于蓬蒿之间\n2\n2\n此小大之__也\n辨\n辩\n4\n3\n__夫知效一官\n若\n且\n故\n不填\n2\n1\n__乎荣辱之境\n辩\n辨\n2\n2\n旬有五日而后__\n返\n反\n2\n1\n而御六气之__\n辩\n辨\n2\n1\n师者，所以传道__业解惑也\n受\n授\n3\n1\n下列句子中正确的是：\n道之所存，师之所存也\n道之所存也，师之所存也\n道之所存也，师之所存\n3\n2\n其下圣人也亦远矣，而______；于其身也，则______\n耻师焉；耻学于师\n耻学于师；耻师焉\n耻学于师；耻学于师\n2\n2\n__之书而习其句读者\n受\n授\n2\n1\n闻道有先后，术业有专攻，__是而已\n如\n由\n2\n2\n__压三百余里\n负\n覆\n5\n1\n二川____，流入宫墙；歌台暖响，春光____\n溶溶；融融\n融融；溶溶\n融熔；熔熔\n炎熔；芙蓉\n以上都不对\n4\n3\n廊腰__回，檐牙高啄；__立远视，而望幸焉\n缦；嫚\n嫚；缦\n缦；缦\n以上都不对\n2\n1\n各抱地势，__心斗角\n钩\n勾\n2\n2\n明星__，开妆镜也\n萤萤\n荧荧\n2\n1\n____远听，杳不知其所之也\n辘辘\n碌碌\n5\n2\n奈何取之尽____，用之如泥沙\n辎铢\n锱铢\n锱珠\n辎珠\n以上都不对\n4\n3\n多于机上之__女\n公\n宫\n工\n以上都不对\n2\n1\n多于__人之言语\n市\n世\n4\n2\n__卒叫，函谷举\n戌\n戍\n戊\n以上都不对\n2\n2\n后人哀之而不鉴之，亦使后人__复哀后人也\n之\n而\n4\n1\n壬__之秋，七月既望\n戌\n戍\n戊\n以上都不对\n4\n2\n苏子与客泛舟游于赤壁之__\n上\n下\n中\n以上都不对\n4\n4\n浩浩乎如冯__御风\n戌\n戍\n戊\n以上都不对\n2\n1\n羽化而__仙\n登\n升\n3\n2\n于是饮酒乐甚，扣__而歌之\n弦\n舷\n玄\n2\n2\n击空明兮__流光\n朔\n溯\n2\n1\n渺渺兮__怀\n予\n余\n2\n2\n客有吹洞__者\n萧\n箫\n7\n3\n山川相__\n廖\n寥\n缪\n蓼\n缭\n嵺\n以上都不对\n2\n2\n举匏__以相属\n尊\n樽\n3\n2\n哀吾生之须__\n與\n臾\n庾\n2\n2\n__江上之清风\n唯\n惟\n2\n2\n__嗟鸠兮\n吁\n于\n3\n2\n无食桑__\n椹\n葚\n甚\n3\n1\n士也__极\n罔\n惘\n辋\n4\n3\n众女疾余之____兮\n峨嵋\n娥眉\n蛾眉\n以上都不对\n2\n2\n何方__之能周兮\n園\n圜\n2\n1\n__昭质其犹未亏\n唯\n惟\n2\n1\n然后天梯石栈相__连\n钩\n勾\n2\n1\n猿猱欲__愁攀援\n度\n渡\n2\n2\n飞湍瀑流争喧__\n晖\n豗\n2\n1\n无边落木____下\n萧萧\n箫箫\n2\n1\n万里悲秋__作客\n常\n长\n2\n1\n枫叶__花秋瑟瑟\n荻\n萩\n2\n1\n别有__愁暗恨生\n幽\n忧\n3\n2\n只是当时已__然\n罔\n惘\n辋\n3\n1\n一__还酹江月\n尊\n樽\n鐏\n3\n1\n学而不思则__\n罔\n惘\n辋\n0";
let storage=new Array;
let sum=0;

let count=0,lastcount;
let current=0,revealed=false;

function dtprocess(rawdata)
{
    let mem=new Array,i;
    mem=rawdata.split("\n");
    i=0;
    
    while(i<rawdata.length)
    {
    let buffer=new Object;
    if(Number(mem[i])==NaN) break;
    buffer.len=Number(mem[i]);
    if(Number(mem[i+1])==NaN) break;
    if(buffer.len<1) break;
    
    buffer.ans=Number(mem[i+1]);
    
    if(buffer.ans>buffer.len || buffer.ans<1) break;
    buffer.list=new Array;
    for(let j=0;j<=buffer.len;j++)
    {
        buffer.list[j]=String(mem[i+2+j]);
    }
    storage[sum]=buffer;
    sum++;
    i+=(buffer.len)+3;
    }
    
    //document.getElementById("title").innerHTML=sum;
    //document.getElementById("title").innerHTML+="<br/>"+storage[0].list;
}
function nextpro()
{
    lastcount=count;
    count=(storage[current].len);
    //console.log(count);
    if(count>lastcount)
    {
        for(let i=lastcount+1;i<=count;i++)
        {
            let bt=document.createElement("button");
            bt.id=i;
            document.getElementById("quiz").appendChild(bt);
        }
    }
    else if(count<lastcount)
    {
        for(let i=count+1;i<=lastcount;i++)
        {
            document.getElementById("quiz").removeChild(document.getElementById(i));
        }
    }
    
    for(let i=1;i<=count;i++)
    {
        let bt=document.getElementById(String(i));
        bt.style.backgroundColor=null;
        bt.innerHTML=storage[current].list[i];
        bt.onclick=function(){judge(i)};
    }
    document.getElementById("title").innerHTML=storage[current].list[0];
}
function judge(userans)
{
    if(revealed)
    {
        revealed=false;
        current++;
        if(current<sum) nextpro();
        else
        {
            document.getElementById("title").innerHTML="结束。";
            current--;
            for(let i=1;i<=count;i++)
            {
                document.getElementById("quiz").removeChild(document.getElementById(i));
            }
        }
    }
    else
    {
        revealed=true;
        if(storage[current].ans != userans)
        {
            document.getElementById(String(userans)).style.backgroundColor="red";
        }
        document.getElementById(String(storage[current].ans)).style.backgroundColor="green";
    }
}

dtprocess(rawdata);
nextpro();
</script>
</body>
</html>
